(this["webpackJsonpboxgreen-ecommerce-replica"]=this["webpackJsonpboxgreen-ecommerce-replica"]||[]).push([[0],{1:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return r})),n.d(t,"k",(function(){return c})),n.d(t,"i",(function(){return l})),n.d(t,"a",(function(){return o})),n.d(t,"h",(function(){return i})),n.d(t,"f",(function(){return u})),n.d(t,"l",(function(){return s})),n.d(t,"j",(function(){return m})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"g",(function(){return f}));var a="FETCH_PRODUCTS",r="FILTER_PRODUCTS_BY_ALL",c="SORT_PRODUCTS",l="SEARCH_PRODUCTS",o="ADD_TO_CART",i="REMOVE_FROM_CART",u="GET_LOCAL_CART",s="UPDATE_PRODUCT_COUNT",m="SET_USER_AUTH",d="ERROR_MESSAGE",p="CLOSE_ALERT",f="READ_PROFILE"},14:function(e,t,n){"use strict";var a=n(1),r={fetchProducts:function(){return function(e){fetch("/boxgreen-ecommerce-replica/db.json").then((function(e){return e.json()})).then((function(t){return e({type:a.d,payload:t.products})}))}},filterProductsByAll:function(e){return function(t){var n=document.getElementById("promo").checked,r=document.getElementById("best").checked,c=document.getElementById("peanut").checked,l=document.getElementById("granola").checked,o=document.getElementById("cashew").checked,i=document.getElementById("almond").checked,u=document.getElementById("cranberry").checked,s=document.getElementById("edamame").checked,m=document.getElementById("peacan").checked;return t({type:a.e,payload:{price:"",filteredProducts:function(e){return function(e){return m?e.filter((function(e){return e.ingredient.indexOf("peacan")>=0})):e}(function(e){return s?e.filter((function(e){return e.ingredient.indexOf("edamame")>=0})):e}(function(e){return u?e.filter((function(e){return e.ingredient.indexOf("cranberry")>=0})):e}(function(e){return i?e.filter((function(e){return e.ingredient.indexOf("almond")>=0})):e}(function(e){return o?e.filter((function(e){return e.ingredient.indexOf("cashew")>=0})):e}(function(e){return l?e.filter((function(e){return e.ingredient.indexOf("granola")>=0})):e}(function(e){return c?e.filter((function(e){return e.ingredient.indexOf("peanut")>=0})):e}(function(e){return r?e.filter((function(e){return 1===e.best})):e}(function(e){return n?e.filter((function(e){return 1===e.promo})):e}(e)))))))))}(e)}})}},searchProducts:function(e,t){return function(n){var r=t.filter((function(t){return t.description.toLowerCase().includes(e.toLowerCase())}));return n({type:a.i,payload:r})}},sortProducts:function(e,t){return function(n){var r=e.slice();return""!==t?r.sort((function(e,n){return"lowestprice"===t?e.price>n.price?1:-1:e.price<n.price?1:-1})):r.sort((function(e,t){return e.id>t.id?1:-1})),n({type:a.k,payload:{price:t,filteredProducts:r}})}}},c=n(4),l=function(e,t){return function(n){var r=e.slice().filter((function(e){return e.id!==t.id}));return localStorage.setItem("cartItems",JSON.stringify(r)),n({type:a.h,payload:r})}},o={addToCart:function(e,t){return function(n){var r=e.slice(),l=!1;return r.forEach((function(e){e.id===t.id&&(e.count+=1,l=!0)})),l||r.push(Object(c.a)({},t,{count:1})),localStorage.setItem("cartItems",JSON.stringify(r)),n({type:a.a,payload:r})}},getLocalCart:function(){return function(e){return e({type:a.f,payload:JSON.parse(localStorage.getItem("cartItems"))})}},removeFromCart:l,updateProductCount:function(e,t,n){return function(r){var c=Number(n),o=e.slice();return 0===c?l(o,t):o.forEach((function(e){e.id===t.id&&(e.count=c)})),localStorage.setItem("cartItems",JSON.stringify(o)),r({type:a.l,payload:o})}}},i=n(7),u={productActions:r,cartActions:o,userActions:{userLoginSubmit:function(){return function(e){var t=document.getElementById("inputemail").value,n=document.getElementById("inputpassword").value;if(i.a.auth().currentUser)i.a.auth().signOut();else{if(t.length<4)return e({type:a.c,payload:"Please enter a valid email"});if(n.length<4)return e({type:a.c,payload:"Please enter a valid password"});i.a.auth().signInWithEmailAndPassword(t,n).catch((function(t){var n=t.code,r=t.message;return e("auth/wrong-password"===n?{type:a.c,payload:"Password is wrong. Please try again."}:{type:a.c,payload:r})}))}}},userSignupSubmit:function(){return function(e){var t=document.getElementById("inputemail").value,n=document.getElementById("inputpassword").value,r=document.getElementById("inputname").value,c=document.getElementById("inputphone").value,l=document.getElementById("tos-privacy-checkbox").checked;return t.length<4?e({type:a.c,payload:"Please enter a valid email"}):n.length<4?e({type:a.c,payload:"Please enter a longer password"}):r.length<1?e({type:a.c,payload:"Please enter a valid name"}):c.length<4?e({type:a.c,payload:"Please enter a valid phone number"}):l?void i.a.auth().createUserWithEmailAndPassword(t,n).then((function(e){return i.a.firestore().collection("users").doc(e.user.uid).set({email:t,name:r,phone:c}),e.user.updateProfile({displayName:r,phoneNumber:c})})).then(alert("sign up success yay!")).then((function(){return e({type:a.j,payload:r})})).catch((function(t){var n=t.code,r=t.message;return e("auth/weak-password"===n?{type:a.c,payload:"Please enter a stronger password"}:{type:a.c,payload:r})})):e({type:a.c,payload:"Please accept Terms and Privacy to proceed"})}},setUserAuth:function(e){return function(t){return t({type:a.j,payload:e})}},logOutUser:function(){return function(e){i.a.auth().signOut().then((function(){})).catch((function(t){return e({type:a.c,payload:t})}))}},closeAlert:function(){return function(e){return e({type:a.b,payload:null})}},getProfile:function(){return function(e){if(null!==i.a.auth().currentUser){var t=i.a.auth().currentUser.uid;i.a.firestore().collection("users").doc(t).get().then((function(t){if(t.exists){var n=t.data().email,r=t.data().name,c=t.data().phone;return e({type:a.g,payload:{email:n,name:r,phone:c}})}console.log("user doesn't exist")}))}}},updateProfile:function(){return function(e){var t=document.getElementById("profilename").value,n=document.getElementById("profilephone").value;if(t.length<1)return e({type:a.c,payload:"Please enter a valid name"});if(n.length<4)return e({type:a.c,payload:"Please enter a valid phone number"});var r=i.a.auth().currentUser;r.updateProfile({displayName:t,phoneNumber:n}).then((function(){i.a.firestore().collection("users").doc(r.uid).update({name:t,phone:n})})).then(alert("update success yay!")).then((function(){return e({type:a.j,payload:t})})).catch((function(t){return e({type:a.c,payload:t.message})}))}}}};t.a=u},35:function(e,t,n){e.exports=n(56)},41:function(e,t,n){},52:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(19),l=n.n(c),o=n(5),i=(n(40),n(41),n(12)),u=n(11),s=n(7),m=n(14),d=n(27),p=(n(52),function(){var e=Object(u.c)((function(e){return e.userReducer.user})),t=Object(u.c)((function(e){return e.cartReducer.cartItems})),n=t.reduce((function(e,t){return e+t.count}),0),c=t.reduce((function(e,t){return e+t.count*t.price}),0),l=Object(u.b)(),i=function(){var e=document.querySelector(".opened-menu-container");"flex"===e.style.display?e.style.display="none":e.style.display="flex"},s=Object(a.useState)(!0),p=Object(d.a)(s,2),f=p[0],g=p[1];return Object(a.useEffect)((function(){window.location.href.includes("/shop")?g(!1):g(!0)}),[]),r.a.createElement("header",{className:"nav-bar"},r.a.createElement("div",{className:"nav-bar-1-bg"},r.a.createElement("div",{className:"nav-bar-1"},r.a.createElement("div",{className:"tab-switcher"},r.a.createElement("div",{className:f?"tab tab-selected":"tab"},r.a.createElement(o.b,{onClick:function(){return g(!0)},to:"/",exact:"true"},"subscription")),r.a.createElement("div",{className:f?"tab":"tab tab-selected"},r.a.createElement(o.b,{onClick:function(){return g(!1)},to:"/shop"},"shop"))),e?r.a.createElement("div",{className:"login-buttons"},r.a.createElement(o.b,{className:"tab",to:"/Profile"},"Hi, ",e),r.a.createElement("div",{className:"tab",onClick:function(){return l(m.a.userActions.logOutUser())}},"logout")):r.a.createElement("div",{className:"login-buttons"},r.a.createElement(o.b,{className:"tab",to:"/Signup"},"Redeem"),r.a.createElement(o.b,{className:"tab",to:"/login"},"login")))),r.a.createElement("div",{className:"nav-bar-2-bg"},r.a.createElement("div",{className:"nav-bar-2"},r.a.createElement("div",{className:"nav-bar-2-left"},r.a.createElement(o.b,{to:"/",exact:"true",onClick:function(){return g(!0)}},r.a.createElement("img",{alt:"logo",src:"".concat("/boxgreen-ecommerce-replica","/images/logo.png")})),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(o.b,{to:"/shop",exact:"true",onClick:function(){return g(!1)},onMouseEnter:i,onMouseLeave:i},"Snacks",r.a.createElement("div",{className:"opened-menu-container"},r.a.createElement("i",{className:"fas fa-caret-up caret-edit"}),r.a.createElement("div",{className:"opened-menu"},r.a.createElement("div",null,"Appetizers"),r.a.createElement("div",null,"Entrees"),r.a.createElement("div",null,"Breads"),r.a.createElement("div",null,"Deserts"),r.a.createElement("div",null,"Beverages"))))),r.a.createElement("li",null,r.a.createElement(o.b,{to:"/shop/product/1",exact:"true",onClick:function(){return g(!1)}},"Hot")),r.a.createElement("li",null,r.a.createElement(o.b,{to:"/shop",exact:"true",onClick:function(){return g(!1)}},"Treat Yourself")))),r.a.createElement(o.b,{to:"/shop/cart",exact:"true",className:"btn btn-primary btn-cart",onClick:function(){return g(!1)}},r.a.createElement("i",{className:"fa fa-shopping-cart fa-style"}),r.a.createElement("p",null,"".concat(n," items")),r.a.createElement("p",null,"($".concat(c.toFixed(2),")"))))))}),f=(n(54),function(){return r.a.createElement("footer",{className:"footer-container"},r.a.createElement("div",{className:"newsletter-section"},r.a.createElement("h2",null,"join our newsletter"),r.a.createElement("div",{className:"subscribe-container"},r.a.createElement("input",{type:"email",name:"email",id:"email",className:"form-control subscribe-input",placeholder:"Your email address",required:"required"}),r.a.createElement("button",{className:"btn btn-primary btn-cart btn-sub-edit"},"subscribe"))),r.a.createElement("div",{className:"footer-link-section"},r.a.createElement("div",{className:"each-footer-link-list"},r.a.createElement("h2",null,"get started"),r.a.createElement("ul",null,r.a.createElement("li",null,"subscribe"),r.a.createElement("li",null,"shop"),r.a.createElement("li",null,"gift boxes"),r.a.createElement("li",null,"gift vouchers"))),r.a.createElement("div",{className:"each-footer-link-list"},r.a.createElement("h2",null,"office"),r.a.createElement("ul",null,r.a.createElement("li",null,"subscribe"),r.a.createElement("li",null,"shop"),r.a.createElement("li",null,"gift boxes"),r.a.createElement("li",null,"gift vouchers"))),r.a.createElement("div",{className:"each-footer-link-list"},r.a.createElement("h2",null,"about"),r.a.createElement("ul",null,r.a.createElement("li",null,"subscribe"),r.a.createElement("li",null,"shop"),r.a.createElement("li",null,"gift boxes"),r.a.createElement("li",null,"gift vouchers"))),r.a.createElement("div",{className:"each-footer-link-list"},r.a.createElement("h2",null,"get in touch"),r.a.createElement("ul",null,r.a.createElement("li",null,"subscribe"),r.a.createElement("li",null,"shop"),r.a.createElement("li",null,"gift boxes"),r.a.createElement("li",null,"gift vouchers"))),r.a.createElement("div",{className:"each-footer-link-list"},r.a.createElement("h2",null,"check out our nuts"),r.a.createElement("div",{className:"social-media-icons"},r.a.createElement("img",{src:"".concat("/boxgreen-ecommerce-replica","/images/footer/fb-icon.png"),alt:"icon"}),r.a.createElement("img",{src:"".concat("/boxgreen-ecommerce-replica","/images/footer/instagram-icon.png"),alt:"icon"}),r.a.createElement("img",{src:"".concat("/boxgreen-ecommerce-replica","/images/footer/youtube-icon.png"),alt:"icon"})),r.a.createElement("div",null,r.a.createElement("img",{className:"cert-icon-1",src:"".concat("/boxgreen-ecommerce-replica","/images/footer/cert-icon-1.png"),alt:"icon"}),r.a.createElement("img",{className:"cert-icon-2",src:"".concat("/boxgreen-ecommerce-replica","/images/footer/cert-icon.png"),alt:"icon"})))),r.a.createElement("div",{className:"mobile-footer-link-section"},r.a.createElement("div",{className:"mobile-social-media-section"},r.a.createElement("img",{src:"".concat("/boxgreen-ecommerce-replica","/images/footer/fb-icon.png"),alt:"icon"}),r.a.createElement("img",{src:"".concat("/boxgreen-ecommerce-replica","/images/footer/instagram-icon.png"),alt:"icon"}),r.a.createElement("img",{src:"".concat("/boxgreen-ecommerce-replica","/images/footer/youtube-icon.png"),alt:"icon"})),r.a.createElement("ul",{className:"mobile-footer-link-list"},r.a.createElement("li",null,"our story"),r.a.createElement("li",null,"faq"),r.a.createElement("li",null,"terms"),r.a.createElement("li",null,"privacy"))),r.a.createElement("div",{className:"disclaimer-section"},r.a.createElement("div",{className:"disclaimer-wrap"},r.a.createElement("h4",null,"disclaimer: "),r.a.createElement("p",null,"this is an application built solely for author's learning and programming practice purpose. strictly not for distribution or any commercial use."),r.a.createElement("p",null,"copywriting, design, product direction etc are copied taken from boxgreen.co, with slight creative liberty taken by the author."),r.a.createElement("p",null,"copyright and credits belongs to the good folks of boxgreen pte ltd (a healthy snack delivery startup based in singapore), while all imperfections and errors are mine alone."),r.a.createElement("p",null,"\xa9 friend of boxgreen"))))}),g=(n(55),Object(a.lazy)((function(){return n.e(8).then(n.bind(null,80))}))),b=Object(a.lazy)((function(){return Promise.all([n.e(4),n.e(3)]).then(n.bind(null,86))})),h=Object(a.lazy)((function(){return n.e(6).then(n.bind(null,81))})),E=Object(a.lazy)((function(){return n.e(10).then(n.bind(null,60))})),y=Object(a.lazy)((function(){return n.e(5).then(n.bind(null,82))})),v=Object(a.lazy)((function(){return n.e(7).then(n.bind(null,61))})),O=Object(a.lazy)((function(){return n.e(9).then(n.bind(null,83))})),N=Object(a.lazy)((function(){return n.e(12).then(n.bind(null,84))})),x=Object(a.lazy)((function(){return n.e(11).then(n.bind(null,85))})),P=function(){var e=Object(u.b)();return Object(a.useEffect)((function(){localStorage.getItem("cartItems")&&e(m.a.cartActions.getLocalCart());s.a.auth().onAuthStateChanged((function(t){e(t?m.a.userActions.setUserAuth(t.displayName):m.a.userActions.setUserAuth(null))}))}),[e]),r.a.createElement("div",{className:"App"},r.a.createElement(p,null),r.a.createElement(a.Suspense,{fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/",component:g,exact:!0}),r.a.createElement(i.b,{path:"/shop",component:b,exact:!0}),r.a.createElement(i.b,{path:"/shop/cart",component:h}),r.a.createElement(i.b,{path:"/shop/products",component:E}),r.a.createElement(i.b,{path:"/shop/product/:id",component:y}),r.a.createElement(i.b,{path:"/login",component:O}),r.a.createElement(i.b,{path:"/signup",component:N}),r.a.createElement(i.b,{path:"/profile",component:x}),r.a.createElement(i.b,{component:v}))),r.a.createElement(f,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var k=n(13),j=n(33),w=n(34),I=n(4),A=n(1),S={products:[],filteredProducts:[],price:""},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A.d:return Object(I.a)({},e,{products:t.payload,filteredProducts:t.payload});case A.e:return Object(I.a)({},e,{filteredProducts:t.payload.filteredProducts,price:t.payload.price});case A.i:return Object(I.a)({},e,{filteredProducts:t.payload});case A.k:return Object(I.a)({},e,{price:t.payload.price,filteredProducts:t.payload.filteredProducts});default:return e}},R={cartItems:[]},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A.a:case A.h:case A.l:case A.f:return Object(I.a)({},e,{cartItems:t.payload});default:return e}},T={user:null,name:null,email:null,phone:null},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A.j:return Object(I.a)({},e,{user:t.payload});case A.g:return Object(I.a)({},e,{name:t.payload.name,email:t.payload.email,phone:t.payload.phone});default:return e}},_={alert:null},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A.b:case A.c:return Object(I.a)({},e,{alert:t.payload});default:return e}},z=Object(k.c)({productReducer:C,cartReducer:B,userReducer:U,alertsReducer:L});var D=Object(j.createLogger)(),F=Object(k.d)(z,Object(k.a)(w.a,D));l.a.render(r.a.createElement(u.a,{store:F},r.a.createElement(o.a,{basename:"/boxgreen-ecommerce-replica"},r.a.createElement((function(){var e=Object(i.g)().pathname;return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}),null),r.a.createElement(P,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},7:function(e,t,n){"use strict";var a=n(21),r=n.n(a);n(46),n(48);r.a.initializeApp({apiKey:"AIzaSyABZ0mHtd0VFKb-lEZleDc7Pet91AYPf-U",authDomain:"boxgreen.firebaseapp.com",databaseURL:"https://boxgreen.firebaseio.com",storageBucket:"boxgreen.appspot.com",projectId:"boxgreen"}),r.a.firestore(),t.a=r.a}},[[35,1,2]]]);
//# sourceMappingURL=main.379a9c21.chunk.js.map