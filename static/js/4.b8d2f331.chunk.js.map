{"version":3,"sources":["components/ErrorPage/ErrorPage.js","components/ProductDetailPage/ProductDetailPage.js"],"names":["ErrorPage","className","alt","src","href","ProductDetailPage","match","dispatch","useDispatch","useEffect","allActions","productActions","fetchProducts","window","scrollTo","productId","Number","params","id","allProducts","useSelector","state","productReducer","products","product","cartItems","cartReducer","useState","activeThumbnail","setActiveThumbnail","big_1","process","big_2","big_3","activeImage","setActiveImage","recommendationState","setRecommendationState","randomNumberList","length","x","Math","floor","random","includes","push","generateRandomRecommendation","recommendationItems","filter","a","map","key","to","short_desc","price","toFixed","onClick","cartActions","addToCart","undefined","title","description","split","c","ingredient","join"],"mappings":"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","file":"static/js/4.b8d2f331.chunk.js","sourcesContent":["import React from 'react';\nimport './errorpage.css';\n\nconst ErrorPage = () => {\n\n\treturn (\n\t\t<div className='error-page-container'>\n\t\t\t<img alt='error' src='https://d151f3rn0x6eid.cloudfront.net/assets/fail-squirrel-2ace63faff54aa29cbe492beaf12f91d33fd6cbff379761e75cee625394f8d36.png' />\n\t\t\t<h2>Oops...something happened!</h2>\n\t\t\t<h3> The page you were looking for doesn't exist.</h3>\n\t\t\t<h3> You may have mistyped the address or the page may have moved </h3>\n\t\t\t<a className=\"btn btn-primary btn-lg\" href=\"/shop\">start adding snacks</a>\n\t\t</div>\t\n\t);\n}\n\nexport default ErrorPage;\n\n","import React, { useState, useEffect } from 'react';\nimport './productdetailpage.css';\nimport { Link } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport allActions from \"../../actions\";\nimport ErrorPage from \"../ErrorPage/ErrorPage\"\n\nconst ProductDetailPage = ({ match }) => {\n\t// get db and update product objects\n\tconst dispatch = useDispatch();\n    useEffect(() => {\n        dispatch(allActions.productActions.fetchProducts())\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    useEffect(() => {\n \t window.scrollTo(0, 0)\n\t}, []);\n\n\t//  the component receives match (and location) props from Route component\n\tconst productId = Number(match.params.id);\n\tconst allProducts = useSelector(state => state.productReducer.products);\n    // matching match.params.id (the id entered at url) with the total product at our state\t\n    // product is our product object of interest here\t\n\tconst product = allProducts[productId - 1];\n\tconst cartItems = useSelector(state => state.cartReducer.cartItems);\n\n\t// local state used for setting className for thumbnail/small image\n    const [activeThumbnail, setActiveThumbnail] = useState(1);\n\n    // temporary until we map out images..\n    const big_1 = `${process.env.PUBLIC_URL}/products/details/5-large.jpg`\n    const big_2 = `${process.env.PUBLIC_URL}/products/details/3-large.jpg`\n    const big_3 = `${process.env.PUBLIC_URL}/products/details/1-large.jpg`\n\n    // local state for setting active large image\n    const [activeImage, setActiveImage] = useState(big_1);\n\n// for RECOMMENDATION\n    // randomise 3 numbers for product ids and return an array \n    const generateRandomRecommendation = () => {\n    \tlet randomNumberList = [];\n\n    \twhile (randomNumberList.length < 3) {\n   \t\t\tlet x = Math.floor((Math.random() * 12) + 1); //generate random between 1 to 12\t  \n     \t\tif (x !== productId && randomNumberList.includes(x) === false) { //excludes the current product, and no repeat\n    \t\t\trandomNumberList.push(x);\n    \t\t}  \t\t\t  \t\t\n    \t}\n    \treturn randomNumberList  //an array of 3 numbers\n    }\t\n\n    // local state that executes above function and save the array of 3 random no.\n\tconst [recommendationState, setRecommendationState] = useState([]);\n// eslint-disable-next-line react-hooks/exhaustive-deps\n    useEffect(() => setRecommendationState(generateRandomRecommendation()), [])      \n    // now recommendationState state has our array of 3 random numbers, which is generated on componentDidMount\n\n    //filter from allProducrs into our array of 3 random product objects\n    const recommendationList = allProducts.filter(\n            a => \n            (a.id === recommendationState[0]) ||\n            (a.id === recommendationState[1]) ||\n            (a.id === recommendationState[2])\n    )\n// =========\n\n    // mapping the array into UI\n    const recommendationItems = recommendationList.map(product => (\n\t\t<div className='card recommendation-items' key={product.id}>\n\t\t    <Link to={`/shop/product/${product.id}`}>\n                <img\n                    src={`${process.env.PUBLIC_URL}/products/${product.id}.jpg`} \n                    alt=\"test\" \n                />\n            </Link> \n            <p className='short-desc'>{product.short_desc}</p>\n            <h4 className='listing-price'>{`$${product.price.toFixed(2)}`}</h4>\n            <button \n                onClick={() => dispatch(allActions.cartActions.addToCart(cartItems, product))}\n                className=\"btn btn-primary btn-shop\">\n                <p>add to cart</p>\n            </button>       \n\t\t</div>\n    ))\n\n\treturn (\n\t\tproduct === undefined\n\t\t?\n\t\t<ErrorPage />\n\t\t:\t\n\t\t<div className='detail-page-container'> \n\t\t\t<section className='detail-intro-section-container'>\n\t\t\t\t<div className='small-image-section'>\n\t                <img\n\t                \tclassName={activeThumbnail === 1 ? 'active-thumbnail' : 'not-active-thumbnail'}\n\t                    onClick={() => {\n\t                    \tsetActiveThumbnail(1);\n\t                    \tsetActiveImage(big_1);\n\t                    }}\n\t                    src={`${process.env.PUBLIC_URL}/products/details/5-small.jpg`} \n\t                    alt=\"small-detail\" \n\t                />\t\t\n\t                <img\n\t                \tclassName={activeThumbnail === 2 ? 'active-thumbnail' : 'not-active-thumbnail'}\n\t                    onClick={() => {\n\t                    \tsetActiveThumbnail(2);\n\t                    \tsetActiveImage(big_2);\n\t                    }}\n\t                    src={`${process.env.PUBLIC_URL}/products/details/3-small.jpg`} \n\t                    alt=\"small-detail\" \n\t                />\t\t\n\t                <img\n\t                \tclassName={activeThumbnail === 3 ? 'active-thumbnail' : 'not-active-thumbnail'}\n\t                    onClick={() => {\n\t                    \tsetActiveThumbnail(3);\n\t                    \tsetActiveImage(big_3);\n\t                    }}\n\t                    src={`${process.env.PUBLIC_URL}/products/details/1-small.jpg`} \n\t                    alt=\"small-detail\" \n\t                />\t\t\t                \t                \t\t\t\t\n\t\t\t\t</div>\n\t\t\t\t<div className='large-image-section'>\n\t                <img\n\t                    src={activeImage} \n\t                    alt=\"large-detail\" \n\t                />\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t\t<div className='detail-cta-section'>\n\t\t\t\t\t{product.title}\n\t\t\t\t\t<i className=\"fas fa-utensils\"></i>\n\t\t\t\t\t<p id=\"detail_short_desc\">{product.short_desc}</p>\n\t\t\t\t\t<h4>\n\t\t\t\t\t\t{`$${product.price.toFixed(2)}`}\n\t\t\t\t\t</h4>\t\n\t\t\t\t\t<button \n\t\t                onClick={() => dispatch(allActions.cartActions.addToCart(cartItems, product))}\n\t\t                className=\"btn btn-primary btn-shop\">\n\t\t                <p>add to cart</p>\n            \t\t</button>       \n\t\t\t\t</div>\t\t\t\t\n\t\t\t</section>\n\n\t\t\t<section className='detail-description-section-container'>\n\t\t\t\t<div className='detail-description-section'>\n\t\t\t\t\t<div className=\"description-header-bar\">\n\t\t\t\t\t\tdescription\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='description-body'>\n\t\t\t\t\t\t<h3>about snack</h3>\n\t\t\t\t\t\t<div>{product.description.split('\\n').map(c => {\n\t\t\t                   return ( <p  key={c}> {c} </p>) \n\t\t\t                   }) // we need unique key for map, but we have none, so this is a hack\n\t\t\t               }\n\t\t\t            </div>\n\t\t\t\t\t\t<h3>our ingredient consists of</h3>\n\t\t\t\t\t\t<p>{product.ingredient.join(\", \")}</p>\n\t\t\t\t\t</div>\t\t\t\t\n\t\t\t\t</div>\n\t\t\t</section>\n\n\t\t\t<section className='recommendation-section-container'>\n\t\t\t\t<div className='recommendation-section'>\n\t\t\t\t\t<h1>you might also like</h1>\n\t\t\t\t\t<div className='recommendation-items-container'>\n\t\t\t\t\t{recommendationItems}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</section>\t\t\n\n\t\t</div>\n\n\t)\n}\n\nexport default ProductDetailPage;"],"sourceRoot":""}